var suncom;(function(suncom){var DebugMode;(function(DebugMode){DebugMode[DebugMode["DEBUG"]=1]="DEBUG";DebugMode[DebugMode["ENGINEER"]=2]="ENGINEER";DebugMode[DebugMode["ENGINE"]=4]="ENGINE";DebugMode[DebugMode["NATIVE"]=8]="NATIVE";DebugMode[DebugMode["NETWORK"]=16]="NETWORK";DebugMode[DebugMode["NETWORK_HEATBEAT"]=32]="NETWORK_HEATBEAT";DebugMode[DebugMode["H5BOX"]=64]="H5BOX";DebugMode[DebugMode["NORMAL"]=128]="NORMAL"})(DebugMode=suncom.DebugMode||(suncom.DebugMode={}));var Common=function(){function Common(){}Object.defineProperty(Common,"hashId",{get:function(){Common.$hashId++;return Common.$hashId},enumerable:true,configurable:true});Common.getClassName=function(cls){var classString=cls.toString().trim();var index=classString.indexOf("(");return classString.substring(9,index)};Common.convertEnumToString=function(value,oEnum){if(value===void 0){return null}var keys=Object.keys(oEnum);for(var i=0;i<keys.length;i++){var key=keys[i];if(oEnum[key]===value){return key}}return null};Common.addEnumString=function(key,oEnum,concat){if(concat===void 0){concat=true}if(oEnum.NAME){if(oEnum[key]){throw Error("Common=> Duplicate Enum String "+oEnum.NAME+"["+key+"]")}else if(concat==false){oEnum[key]=key}else{oEnum[key]=oEnum.NAME+"."+oEnum.MODULE+"."+key}}else{throw Error("Common=> Invalid Enum Object")}};Common.isNumber=function(str){if(typeof str=="number"){return true}if(isNaN(parseInt(str))==false){return true}return false};Common.isStringInvalidOrEmpty=function(str){if(typeof str=="number"){return false}if(typeof str=="string"&&str!=""){return false}return true};Common.formatString=function(str,args){for(var i=0;i<args.length;i++){str=str.replace("{$}",args[i])}return str};Common.abs=function(a){if(a<0){return-a}return a};Common.min=function(a,b){if(b<a){return b}return a};Common.max=function(a,b){if(a<b){return b}return a};Common.clamp=function(value,min,max){if(value<min){return min}else if(value>max){return max}return value};Common.round=function(value,n){if(n===void 0){n=0}var multiples=Math.pow(10,n+1);var tmpValue=Math.floor(value*multiples);var floatValue=tmpValue%10;var intValue=(tmpValue-floatValue)/10;if(floatValue<0){intValue-=1;floatValue+=10}if(floatValue>5){intValue+=1}else if(floatValue==5){var modValue=intValue%2;if(modValue==1||modValue==-1){intValue+=1}}return intValue/Math.pow(10,n)};Common.random=function(min,max){var value=Random.random()*(max-min);return Math.floor(value)+min};Common.convertToDate=function(date){if(date instanceof Date){return date}if(Common.isNumber(date)==true){return new Date(date.toString())}if(typeof date=="string"){var array=date.split(" ");var dates=array[0].split("-");var times=array[1].split(":");if(dates.length==3&&times.length==3){return new Date(Number(dates[0]),Number(dates[1])-1,Number(dates[2]),Number(times[0]),Number(times[1]),Number(times[2]))}return new Date(date)}throw Error("Convert Date Error:"+date)};Common.dateAdd=function(datepart,increment,time){var date=Common.convertToDate(time);if(datepart=="yy"){date.setFullYear(date.getFullYear()+increment)}else if(datepart=="MM"){var rem=increment%12;var mul=(increment-rem)/12;date.setFullYear(date.getFullYear()+mul);var month=date.getMonth()+rem;if(month>11){date.setMonth(month-11);date.setFullYear(date.getFullYear()+1)}else if(month<0){date.setMonth(rem+11);date.setFullYear(date.getFullYear()-1)}else{date.setMonth(month)}}var timestamp=date.valueOf();if(datepart=="ww"){timestamp+=increment*7*24*3600*1e3}else if(datepart=="dd"){timestamp+=increment*24*3600*1e3}else if(datepart=="hh"){timestamp+=increment*3600*1e3}else if(datepart=="mm"){timestamp+=increment*60*1e3}else if(datepart=="ss"){timestamp+=increment*1e3}else if(datepart=="ms"){timestamp+=increment}return timestamp};Common.dateDiff=function(datepart,date,date2){var d1=Common.convertToDate(date);var d2=Common.convertToDate(date2);var time=d1.valueOf();var time2=d2.valueOf();if(datepart=="ms"){return time2-time}time=Math.floor(time/1e3);time2=Math.floor(time2/1e3);if(datepart=="ss"){return time2-time}time=Math.floor(time/60);time2=Math.floor(time2/60);if(datepart=="mm"){return time2-time}time=Math.floor(time/60);time2=Math.floor(time2/60);if(datepart=="hh"){return time2-time}time=Math.floor(time/24);time2=Math.floor(time2/24);if(datepart=="dd"){return time2-time}if(datepart=="ww"){return Math.floor((time2-4-(time-4))/7)}if(datepart=="MM"){return d2.getMonth()-d1.getMonth()+(d2.getFullYear()-d1.getFullYear())*12}if(datepart=="yy"){return d2.getFullYear()-d1.getFullYear()}return 0};Common.formatDate=function(str,time){var date=Common.convertToDate(time);str=str.replace("yyyy",date.getFullYear().toString());str=str.replace("yy",date.getFullYear().toString().substr(2,2));str=str.replace("MM",("0"+(date.getMonth()+1).toString()).substr(-2));str=str.replace("dd",("0"+date.getDate().toString()).substr(-2));str=str.replace("hh",("0"+date.getHours().toString()).substr(-2));str=str.replace("mm",("0"+date.getMinutes().toString()).substr(-2));str=str.replace("ss",("0"+date.getSeconds().toString()).substr(-2));str=str.replace("M",(date.getMonth()+1).toString());str=str.replace("d",date.getDate().toString());str=str.replace("h",date.getHours().toString());str=str.replace("m",date.getMinutes().toString());str=str.replace("s",date.getSeconds().toString());return str};Common.md5=function(str){throw Error("暂未实现")};Common.createSign=function(params){var keys=Object.keys(params).sort();var array=[];for(var i=0;i<keys.length;i++){var key=keys[i];if(key!="sign"){array.push(key+"="+params[key])}}array.push("key=123456789012345678");return Common.md5(array.join("&"))};Common.$hashId=0;return Common}();suncom.Common=Common;var Dictionary=function(){function Dictionary(){this.$map={}}Dictionary.prototype.get=function(key,defaultValue){if(typeof key=="string"&&key.length>0){if(this.$map[key]===void 0){return defaultValue}return this.$map[key]}else{throw Error("Invalid Key:"+key)}};Dictionary.prototype.put=function(key,value){if(typeof key=="string"&&key.length>0){this.$map[key]=value}else{throw Error("Invalid Key:"+key)}};Dictionary.prototype.remove=function(key){if(typeof key=="string"&&key.length>0){delete this.$map[key]}else{throw Error("Invalid Key:"+key)}};return Dictionary}();suncom.Dictionary=Dictionary;var Handler=function(){function Handler(caller,method,args,once){this.$args=args;this.$caller=caller;this.$method=method}Handler.prototype.run=function(){if(this.$args===void 0){return this.$method.call(this.$caller)}else if(this.$args instanceof Array){return this.$method.apply(this.$caller,this.$args)}else{return this.$method.call(this.$caller,this.$args)}};Handler.prototype.runWith=function(args){if(this.$args===void 0){if(args instanceof Array){return this.$method.apply(this.$caller,args)}else{return this.$method.call(this.$caller,args)}}else{return this.$method.apply(this.$caller,this.$args.concat(args))}};Handler.create=function(caller,method,args,once){return new Handler(caller,method,args,once)};return Handler}();suncom.Handler=Handler;var Pool=function(){function Pool(){}Pool.getItem=function(sign){var array=Pool.$pool[sign]||null;if(array!=null&&array.length>0){var item=array.pop();item["suncore$__inPool__"]=false;return item}return null};Pool.getItemByClass=function(sign,cls,args){var item=Pool.getItem(sign);if(item==null){if(Laya["Prefab"]&&args===Laya["Prefab"]){item=cls.create()}else{item={};item.__proto__=cls.prototype;if(args===void 0){cls.call(item)}else if(args instanceof Array){cls.apply(item,args)}else{cls.call(item,args)}}}return item};Pool.recover=function(sign,item){if(item["suncore$__inPool__"]){return}item["suncore$__inPool__"]=true;var array=Pool.$pool[sign]||null;if(array==null){Pool.$pool[sign]=[item]}else{array.push(item)}};Pool.clear=function(sign){if(Pool.$pool[sign]){delete Pool.$pool[sign]}};Pool.$pool={};return Pool}();suncom.Pool=Pool;var Random=function(){function Random(){}Random.seed=function(value){Random.$r=value};Random.random=function(){var r=dcodeIO.Long.fromNumber(Random.$r);var A=dcodeIO.Long.fromNumber(Random.$A);var C=dcodeIO.Long.fromNumber(Random.$C);Random.$r=Math.floor(r.mul(A).add(C).low/Random.$M);return(Random.$r%Random.$M+Random.$M)/(Random.$M*2)};Random.$r=1;Random.$A=1103515245;Random.$C=12345;Random.$M=32767;return Random}();suncom.Random=Random})(suncom||(suncom={}));